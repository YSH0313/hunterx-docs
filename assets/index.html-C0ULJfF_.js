import{_ as p,c,f as k,a,b as l,r as d,o as y,e as s,d as i}from"./app-B3GkPK4x.js";const o={};function g(A,e){const n=d("VPIcon"),r=d("Tabs");return y(),c("div",null,[e[4]||(e[4]=k('<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍"><span>介绍</span></a></h2><p>内存模式是 <code>HunterX</code> 的一种队列管理方式，它将爬虫请求和任务保存在程序的内存中进行处理。在这种模式下，任务队列完全依赖于系统的内存。</p><h2 id="特点与优势" tabindex="-1"><a class="header-anchor" href="#特点与优势"><span>特点与优势</span></a></h2><ul><li><code>高效性</code>：因为数据存储在内存中，任务的读取和写入速度非常快，适合需要高频次请求的爬虫。</li><li><code>无外部依赖</code>：无需额外安装和配置消息队列系统（如 RabbitMQ 或 Redis），减少了系统的复杂性。</li><li><code>简易性</code>：内存队列实现相对简单，适合小规模的爬虫任务和开发调试阶段的使用。</li><li><code>实时性</code>：任务从队列中读取后立即被处理，没有网络延迟或其他外部因素的影响。</li></ul><h2 id="使用场景" tabindex="-1"><a class="header-anchor" href="#使用场景"><span>使用场景</span></a></h2><ul><li><code>小规模爬虫</code>：适用于任务量不大且能在单机内存范围内完成的爬虫应用。</li><li><code>开发和调试</code>：开发过程中进行快速的功能测试和调试时，内存模式是一种简单且高效的选择。</li><li><code>任务不需要持久化</code>：如果任务队列不需要持久化存储，例如仅处理当前运行中的数据，内存模式是理想的选择。</li></ul><h2 id="限制与挑战" tabindex="-1"><a class="header-anchor" href="#限制与挑战"><span>限制与挑战</span></a></h2><ul><li><code>内存限制</code>：随着任务数量的增加，内存使用量也会不断增大，可能导致内存溢出或性能下降。</li><li><code>单机依赖</code>：所有的任务都存储在本机内存中，当爬虫进程终止时，所有队列数据会丢失，无法持久化。</li><li><code>无法扩展</code>：内存模式只适用于单机环境，无法像 RabbitMQ 或 Redis 一样轻松地支持分布式扩展。</li></ul><h2 id="创建方式" tabindex="-1"><a class="header-anchor" href="#创建方式"><span>创建方式</span></a></h2><p>你可以在创建项目时创建第一个任务的时候直接选择内存模式的爬虫，也可以使用 <code>generator.py</code> 模块新建爬虫时选择内存模式的爬虫</p><p>使用 <code>generator.py</code> 模块创建</p>',11)),a(r,{id:"80",data:[{id:'<VPIcon name="devicon:python"></VPIcon>  generator.py'}]},{title0:l(({value:h,isActive:t})=>[a(n,{name:"devicon:python"}),e[0]||(e[0]=s(" generator.py"))]),tab0:l(({value:h,isActive:t})=>e[1]||(e[1]=[i("div",{class:"language-python line-numbers-mode","data-ext":"python","data-title":"python"},[i("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),i("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# -*- coding: utf-8 -*-")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# @Author: yuanshaohang")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# @Date: 2020-02-23 09:56:50")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# @Version: 1.0.0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# @Description: 创建爬虫")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"from"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," hunterx"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"utils"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"generator "),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"import"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," production")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# spider_dir: 爬虫分层目录名称（路径不存在时会自动创建，无需手动创建目录）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# spider_name: 创建的爬虫名称")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# kernel_code: 需要使用的核心引擎 默认优先使用内存优先级队列，默认为3(内存队列)，1为rabbitmq队列，2为redis队列")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"production"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"spider_name"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"memory_spider"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," kernel_code"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"3"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),e[5]||(e[5]=k('<p>这样执行后就会在 <code>spiders</code> 目录下创建一个名为 <code>memory_spider.py</code> 的爬虫文件，并且该爬虫使用的是 <code>内存优先级队列</code> 模式，这个模式下你无需进行任何配置即可使用</p><h2 id="使用方式" tabindex="-1"><a class="header-anchor" href="#使用方式"><span>使用方式</span></a></h2><p>编辑 <code>memory_spider.py</code> 文件为下面的内容，然后执行。</p>',3)),a(r,{id:"94",data:[{id:'<VPIcon name="devicon:python"></VPIcon>  memory_spider.py'}]},{title0:l(({value:h,isActive:t})=>[a(n,{name:"devicon:python"}),e[2]||(e[2]=s(" memory_spider.py"))]),tab0:l(({value:h,isActive:t})=>e[3]||(e[3]=[i("div",{class:"language-python line-numbers-mode","data-ext":"python","data-title":"python"},[i("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),i("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# -*- coding: utf-8 -*-")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"import"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," hunterx")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"from"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," hunterx"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"spiders "),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"import"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," MemorySpider")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"class"),i("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," MemorySpiderSpider"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"MemorySpider"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"    name "),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}}," '"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"memory_spider"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    def"),i("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," __init__"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"        self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"header "),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"            '"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"User-Agent"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}}," '"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"        }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    def"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," start_requests"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"        for"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," i "),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"in"),i("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," range"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"100"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"            url "),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}}," '"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"https://www.baidu.com/"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"            yield"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," hunterx"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"Requests"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"url"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"url"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," headers"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"header"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," callback"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"parse"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," level"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"1"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    async"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," def"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," parse"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," response"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"        print"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"f"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"'parse 接收到的response: "),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"{"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"response"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"status_code"),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"}"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"'"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"        for"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," i "),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"in"),i("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," range"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"100"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"            url "),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}}," '"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"https://www.baidu.com/"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"            yield"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," hunterx"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"Requests"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"url"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"url"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," headers"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"header"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," callback"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"height_level"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," level"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"2"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    async"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," def"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," height_level"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"self"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," response"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"        print"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"f"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"'height_level 接收到的response: "),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"{"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"response"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"status_code"),i("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"}"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"'"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"if"),i("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," __name__"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," =="),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}}," '"),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"__main__"),i("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},"'"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"    start_run "),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"="),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," MemorySpiderSpider"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"    start_run"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"run"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"()")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),e[6]||(e[6]=k('<p>执行效果应该是先会在控制台出现大量的 <code>height_level 接收到的response: </code> 日志内容，少量的 <code>parse 接收到的response: </code> 内容</p><h3 id="优先级分解说明" tabindex="-1"><a class="header-anchor" href="#优先级分解说明"><span>优先级分解说明</span></a></h3><ul><li>在以上代码示例中 <code>start_requests</code> 会先发起<code>100</code> 次请求，然后每个请求的返回结果都会回调传递给 <code>parse</code> 方法</li><li>在 <code>parse</code> 方法中每接收到一次回调传递就会再次发起 <code>100</code> 次请求，再将请求结果回调传递给 <code>height_level</code> 方法</li><li>由于 <code>parse</code> 方法发起的请求的优先级参数 <code>level</code> 级别设定的比 <code>start_requests</code> 发起的请求优先级的级别高</li><li>所以会先将 <code>parse</code> 方法中发起的请求处理完成后再处理 <code>start_requests</code> 发起的请求</li><li>也就是说 <code>level</code> 参数的设定很重要，它决定了优先处理哪个请求的逻辑</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>在实际应用中，最佳实践应该是越接近数据的请求优先级设定应该更高</li><li>你也可以无需关注优先级的设定，框架内部会自动设定优先级，手动设定优先级会更好的体现代码的清晰度。</li></ul></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>内存模式是爬虫框架中最简单的一种队列管理方式，适用于 <code>小规模</code> 、<code>快速开发</code> 或 <code>调试阶段</code> 的使用。它的 <code>高效性</code> 和 <code>简易性</code> 是其主要优势，但也需要注意内存限制和无法持久化的缺点。</p>',6))])}const u=p(o,[["render",g],["__file","index.html.vue"]]),m=JSON.parse('{"path":"/guide/bm7uoxoy/","title":"内存队列","lang":"zh-CN","frontmatter":{"title":"内存队列","icon":"fluent:memory-16-regular","createTime":"2025/01/11 19:51:44","permalink":"/guide/bm7uoxoy/","description":"介绍 内存模式是 HunterX 的一种队列管理方式，它将爬虫请求和任务保存在程序的内存中进行处理。在这种模式下，任务队列完全依赖于系统的内存。 特点与优势 高效性：因为数据存储在内存中，任务的读取和写入速度非常快，适合需要高频次请求的爬虫。 无外部依赖：无需额外安装和配置消息队列系统（如 RabbitMQ 或 Redis），减少了系统的复杂性。 简易...","head":[["meta",{"property":"og:url","content":"https://hunterx-docs.com/guide/bm7uoxoy/"}],["meta",{"property":"og:site_name","content":"HunterX 文档"}],["meta",{"property":"og:title","content":"内存队列"}],["meta",{"property":"og:description","content":"介绍 内存模式是 HunterX 的一种队列管理方式，它将爬虫请求和任务保存在程序的内存中进行处理。在这种模式下，任务队列完全依赖于系统的内存。 特点与优势 高效性：因为数据存储在内存中，任务的读取和写入速度非常快，适合需要高频次请求的爬虫。 无外部依赖：无需额外安装和配置消息队列系统（如 RabbitMQ 或 Redis），减少了系统的复杂性。 简易..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-25T07:22:13.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-25T07:22:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"内存队列\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-25T07:22:13.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":3.94,"words":1182},"git":{"updatedTime":1742887333000,"contributors":[{"name":"袁少航","username":"袁少航","email":"yuanshaohang@dataoceanai.com","commits":2,"avatar":"https://avatars.githubusercontent.com/袁少航?v=4","url":"https://github.com/袁少航"}]},"autoDesc":true,"filePathRelative":"notes/guide/2.use/1.memory-spider.md","bulletin":true}');export{u as comp,m as data};
